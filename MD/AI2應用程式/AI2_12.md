---
marp: true
theme: HoraStyle
paginate: true
style: |
  :root {
    --title-bg: linear-gradient(90deg, #7c3aed, #8b5cf6);
    --title-text-color: #ffffff;
  }
  section.lead {
    background: linear-gradient(135deg, #2e1065 0%, #000000 100%);
  }
---

<!-- _class: lead -->
<!-- _paginate: false -->

### Ch. 12

# 動畫與遊戲：Canvas

## AI2 應用程式設計
## 14週課程 - 第12週

---

# 本章目標

1. 認識 **Canvas (畫布)**
2. 認識 **Ball (球)** 與 **ImageSprite (圖片精靈)**
3. 製作「打地鼠」或「碰碰球」遊戲

---

# 畫布 (Canvas)

普通的 Image 元件是靜止的。如果我們要讓圖片**動** (改變 X, Y 座標)，就必須把戲台搭好。

**Canvas** 就是這個戲台 (在 Drawing and Animation 抽屜)。
- 把 Canvas 拉進來，設 Width/Height 為 Fill Parent。
- 所有的精靈 (Sprite) 只能放在 Canvas 裡面！

---

# 精靈 (Sprite)

- **Ball**: 就是一顆圓球，可以設顏色、半徑。
- **ImageSprite**: 可以設圖片的精靈 (例如：地鼠圖)。

### 重要屬性
- **X, Y**: 位置 (左上角是 0,0)。
- **Heading**: 方向 (0~360度)。
- **Speed**: 速度 (自動移動)。
- **Interval**: 更新頻率 (毫秒)。

---

# 互動事件

- **Touched (被觸摸)**: 類似按鈕被按下，可以用來做「打地鼠」。
  - `當 ImageSprite.Touched` -> 分數 + 1，並且隨機換位置。
- **Dragged (被拖曳)**: 手指按著滑動，可以用來做「繪圖板」。
- **Flung (被滑動/甩)**: 快速滑過，可以用來做「丟球」、「憤怒鳥」。
- **EdgeReached (碰到邊緣)**: 碰到牆壁了，可以用來做「反彈」。
  - `呼叫 Ball.Bounce (edge)`

---

# 實作：繪圖板

1. Canvas 拉滿畫面。
2. `當 Canvas.Dragged (startX, startY, prevX, prevY, currentX, currentY)`
3. `呼叫 Canvas.DrawLine`
   - x1, y1 接 `prevX, prevY` (上一點)
   - x2, y2 接 `currentX, currentY` (這一點)

這樣手指滑過去就會留下線條了！

---

# 重點回顧

- **Canvas** 是所有動畫的基礎容器。
- **Coordinate System (座標系)**: 左上角為原點 (0,0)，往右 X 增加，往下 Y 增加。
- 利用 **Touched** 與 **EdgeReached** 可以做出各種物理遊戲效果。

<br>

### 下一章：期末專案準備！
