---
marp: true
theme: HoraStyle
paginate: true
style: |
  :root {
    --title-bg: linear-gradient(90deg, #7c3aed, #8b5cf6);
    --title-text-color: #ffffff;
  }
  section.lead {
    background: linear-gradient(135deg, #2e1065 0%, #000000 100%);
  }
---

<!-- _class: lead -->
<!-- _paginate: false -->

### Ch. 4

# 簡易計算機

## Horazon
## 應用程式設計

---

# 本章目標

1. 學習 **數學運算 (Math)** 積木
2. 處理 **數字 (Number)** 資料
3. 製作一個「加減乘除」計算機

---

# 關於變數與資料

在程式裡，資料有分型態 (Type)：
- **文字 (Text)**: `"你好"`, `"123"` (不能運算)
- **數字 (Number)**: `123`, `3.14` (可以加減乘除)

<br>

App Inventor 很聰明，通常會自動轉換。但我們要知道，**只有數字才能拿來算數學**。

---

# 數學積木 (Math Blocks)

在左側 Blocks 面板的 **"數學 (Math)"** (藍色) 抽屜裡：

- `0` (數字常數)
- `+` (加)
- `-` (減)
- `*` (乘)
- `/` (除)

<br>

我們可以用這些積木來計算使用者輸入的數值。

---

# 實作：兩數加法機

### 畫面設計 (Designer)
1. **文字輸入盒1** (改名 `Txt_Num1`)：輸入第一個數 (設定屬性 "NumbersOnly" 打勾，只能打數字)
2. **標籤**：顯示 "+"
3. **文字輸入盒2** (改名 `Txt_Num2`)：輸入第二個數
4. **按鈕** (改名 `Btn_Add`)：顯示 "計算"
5. **標籤** (改名 `Lbl_Result`)：顯示結果

### 排版建議
用 **水平配置** 把 輸入盒1、+、輸入盒2 排在一起，看起來更像算式！

---

# 程式設計 (Blocks)

目標：按下按鈕，把兩個數字相加，顯示在結果標籤。

```blocks
當 Btn_Add.被點選
    設 Lbl_Result.文字 為：
        (Txt_Num1.文字) + (Txt_Num2.文字)
```

<br>

### 試試看
輸入 10 和 20，按下計算，結果是 `30` 嗎？
如果是 `1020`，代表它把它當成文字接起來了！(但在 AI2 數學積木裡通常會直接變數字)

---

# 擴充功能：減、乘、除

我們再加三個按鈕！

1. `Btn_Sub` (減)
2. `Btn_Mul` (乘)
3. `Btn_Div` (除)

### 複製程式碼 (Copy Paste)
在 Blocks 裡，對著剛剛寫好的 `當 Btn_Add.被點選` 按右鍵 -> **"複製 (Duplicate)"**
- 把 `Btn_Add` 改成 `Btn_Sub`
- 把 `+` 積木換成 `-` 積木 (可以直接在積木上下拉選單換，或是去 Math 拿新的)

---

# 處理除數為 0 (進階)

數學上，**分母不能為 0**。如果使用者第二個數字輸入 0，按除法會怎樣？

- App 可能會當機，或是顯示錯誤。
- 或者是 `Infinity` (無限大)。

這是我們未來學「判斷式 (If/Else)」要處理的問題，現在先觀察就好。

---

# 作業挑戰

試著美化你的計算機：
1.按鈕變大一點，顏色不一樣。
2. 結果字體變大，置中。
3. 加上「清除 (Clear)」按鈕，把輸入盒清空 (設為空字串)。

---

# 重點回顧

- **NumbersOnly**: 輸入盒屬性，限制只能打數字。
- **Math 積木**: 藍色的，用來做數學運算。
- **複製積木**: 右鍵 Duplicate，寫程式更快。

<br>

### 下一章：機率與亂數！骰子遊戲！
