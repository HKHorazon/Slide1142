---
marp: true
theme: HoraStyle
paginate: true
style: |
  :root {
    --title-bg: linear-gradient(90deg, #7c3aed, #8b5cf6);
    --title-text-color: #ffffff;
  }
  section.lead {
    background: linear-gradient(135deg, #2e1065 0%, #000000 100%);
  }
---

<!-- _class: lead -->
<!-- _paginate: false -->

### Ch. 9

# 切換畫面：多重 Screen

## Horazon
## 應用程式設計

---

# 本章目標

1. 學習 **新增螢幕 (Add Screen)**
2. 學習 **切換螢幕 (Open Another Screen)**
3. 學習 **傳遞數值 (Start Value)**

---

# 為什麼需要多個螢幕？

目前的 App 都只有一頁。但真正的 App 通常有：
- 首頁 (Home)
- 設定頁 (Settings)
- 遊戲頁 (Game)
- 結算頁 (Result)

在 AI2，每一頁就是一個 **Screen**。

---

# 新增螢幕

在 Designer 上方綠色那條，有一個 **"Add Screen"** 按鈕。
1. 點下去，輸入名稱 (例如 `Screen2`)。
2. 畫面就會變全白，這是全新的一頁！
3. 可以透過下拉選單在不同 Screen 間切換編輯。

---

# 切換螢幕指令

在 Blocks 的 **Control** 抽屜裡：

### 開啟新一頁
`<open another screen screenName "Screen2">`
- `screenName`: 必須是文字區塊，輸入螢幕名稱 (大小寫要完全一樣！)。

### 關閉這一頁
`<close screen>`
- 通常用在「返回上一頁」按鈕。

---

# 傳遞資料 (Pass Value)

如果我要把第一頁的「分數」傳給第二頁顯示，怎麼辦？

### 傳送端 (Screen1)
使用 `<open another screen with start value>` 積木。
- screenName: "Screen2"
- startValue: (你的分數變數)

### 接收端 (Screen2)
使用 `<get start value>` 積木 (在 Control 裡面)。
- 在 `Screen2.Initialize` 時，把 `Lbl_Score.Title` 設為 `get start value`。

---

# 注意事項 (記憶體管理)

如果你在 Screen1 開 Screen2，在 Screen2 又開 Screen1...
會像是堆盤子一樣，越堆越高，最後手機**記憶體不足當機**！

### 正確做法
- 如果是用戶按下「返回」，應該用 `<close screen>` (把最上面的盤子拿掉)，回到下面那一層。
- 這樣才不會無限疊加。

---

# 重點回顧

- **Add Screen**: 增加頁面。
- **Open Another Screen**: 跳轉頁面。
- **Start Value**: 像接力棒一樣傳遞資料。
- **Close Screen**: 返回上一頁，釋放記憶體。

<br>

### 下一章：清單與資料庫！樂透遊戲！
